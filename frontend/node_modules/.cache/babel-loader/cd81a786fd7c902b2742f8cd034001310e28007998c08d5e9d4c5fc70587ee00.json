{"ast":null,"code":"import React,{useState}from\"react\";//import \"./admin.css\";\n//import \"./sendmail.css\"\nimport{formatDistanceToNow}from\"date-fns\";import ModalComponent from\"../common/modal\";import SendMail from\"./Manage/sendMail\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function EmailLogs(_ref){let{EmailList,onEvent}=_ref;const[isModalOpen,setIsModalOpen]=useState(false);const[Modal,SetModal]=useState({});const[User,SetUser]=useState({});const openModal=ele=>{SetModal({Title:\"Email Body\",Content:ele.Body,Action:false});setIsModalOpen(true);};const[Grid_Form,setGridOrForm]=useState(true);const HanldeClick=()=>{setGridOrForm(!Grid_Form);};const closeModal=()=>setIsModalOpen(false);const sendValueToParent=value=>{HanldeClick();SetUser(value);//onEvent(value, Action);\n};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-9\",children:/*#__PURE__*/_jsx(\"p\",{style:{fontWeight:'bold',fontSize:'20px'},children:\"Email Logs\"})}),Grid_Form&&/*#__PURE__*/_jsxs(\"div\",{className:\"align-items-center col-md-3 d-flex justify-content-around\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-info text-white\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"align-items-center d-flex\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined\",children:\"sync\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Refresh Log\"})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:HanldeClick,children:/*#__PURE__*/_jsxs(\"span\",{className:\"align-items-center d-flex\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined\",children:\"support\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Send Mail\"})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"table-container\",children:[Grid_Form&&/*#__PURE__*/_jsxs(\"table\",{className:\"table-responsive table table-striped table-bordered mt-4\",children:[/*#__PURE__*/_jsxs(\"thead\",{children:[/*#__PURE__*/_jsx(\"tr\",{className:\"text -end d-none\",children:/*#__PURE__*/_jsx(\"th\",{colspan:\"9\",children:/*#__PURE__*/_jsxs(\"span\",{style:{cursor:\"pointer\"},className:\"btn btn-outline-secondary btn-sm d-inline-flex justify-content-center align-item-center\",children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:\"20px\"},class:\"material-symbols-outlined\",children:\"autorenew\"}),\" \",/*#__PURE__*/_jsx(\"span\",{children:\"Refresh\"})]})})}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"UserName\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"From Email\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"To Email\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Subject\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Body\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"CreatedOn\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"SendDate\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Handle\"})]})]}),/*#__PURE__*/_jsx(\"tbody\",{children:EmailList&&EmailList.length>0&&EmailList.map((ele,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:ele.name}),/*#__PURE__*/_jsx(\"td\",{children:ele.FromEmail}),/*#__PURE__*/_jsx(\"td\",{children:ele.ToEmail}),/*#__PURE__*/_jsx(\"td\",{children:ele.Subject}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-link\",\"data-toggle\":\"modal\",\"data-target\":\"#exampleModal\",onClick:()=>openModal(ele),children:\"View\"})}),/*#__PURE__*/_jsx(\"td\",{children:ele.createdAt?formatDistanceToNow(ele.createdAt,{addSuffix:true}):\"---\"}),/*#__PURE__*/_jsx(\"td\",{children:ele.SentAt?ele.SentAt:\"---\"}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"span\",{onClick:()=>sendValueToParent(ele,\"edit\"),style:{cursor:\"pointer\"},class:\"text-primary material-symbols-outlined\",children:\"edit_square\"}),\"\\xA0\",/*#__PURE__*/_jsx(\"span\",{onClick:()=>sendValueToParent(ele,\"delete\"),style:{cursor:\"pointer\"},class:\"text-danger material-symbols-outlined\",children:\"delete\"}),\"\\xA0\",/*#__PURE__*/_jsx(\"span\",{onClick:()=>sendValueToParent(ele,\"mail\"),style:{cursor:\"pointer\"},class:\"text-danger material-symbols-outlined\",children:\"mail\"})]}),\" \"]},index))})]}),!Grid_Form&&/*#__PURE__*/_jsx(SendMail,{User:User,onEvent:sendValueToParent})]}),isModalOpen&&/*#__PURE__*/_jsx(ModalComponent,{Modal:Modal,isOpen:isModalOpen,onClose:closeModal})]});}","map":{"version":3,"names":["React","useState","formatDistanceToNow","ModalComponent","SendMail","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EmailLogs","_ref","EmailList","onEvent","isModalOpen","setIsModalOpen","Modal","SetModal","User","SetUser","openModal","ele","Title","Content","Body","Action","Grid_Form","setGridOrForm","HanldeClick","closeModal","sendValueToParent","value","children","className","style","fontWeight","fontSize","onClick","colspan","cursor","class","scope","length","map","index","name","FromEmail","ToEmail","Subject","type","createdAt","addSuffix","SentAt","isOpen","onClose"],"sources":["/Users/vikashjoshi/noteflect-app/note-flect-app/frontend/src/components/admin/emaillog.js"],"sourcesContent":["import React, { useState } from \"react\";\n//import \"./admin.css\";\n//import \"./sendmail.css\"\nimport { formatDistanceToNow } from \"date-fns\";\nimport ModalComponent from \"../common/modal\";\nimport SendMail from \"./Manage/sendMail\";\nexport default function EmailLogs({ EmailList, onEvent }) {\n    const [isModalOpen, setIsModalOpen] = useState(false);\n    const [Modal, SetModal] = useState({});\n    const [User,SetUser]=useState({})\n    const openModal = (ele) => {\n      SetModal({\n        Title: \"Email Body\",\n        Content: ele.Body,\n        Action: false\n      });\n      setIsModalOpen(true);\n    };\n    const [Grid_Form,setGridOrForm]=useState(true);\n    const HanldeClick=()=>{\n      setGridOrForm(!Grid_Form)\n    }\n    const closeModal = () => setIsModalOpen(false);\n    const sendValueToParent = (value) => {\n      HanldeClick();\n      SetUser(value);\n\n      //onEvent(value, Action);\n    };\n    return (\n      <>\n        <div className=\"row \">\n              <div className=\"col-md-9\">\n                <p style={{ fontWeight: 'bold', fontSize: '20px' }}>\n                  Email Logs\n                  </p>\n              </div>\n              {Grid_Form &&\n              <div className=\"align-items-center col-md-3 d-flex justify-content-around\">\n                <button className=\"btn btn-info text-white\">\n                  <span className=\"align-items-center d-flex\">                        \n                    <span className=\"material-symbols-outlined\">sync</span>\n                    <span>Refresh Log</span>\n                    </span>\n                </button>\n\n                <button className=\"btn btn-primary\" onClick={HanldeClick}>\n                  <span className=\"align-items-center d-flex\">\n                    <span className=\"material-symbols-outlined\">support</span>\n                    <span>Send Mail</span>\n                    </span>\n                </button>\n              \n              </div> \n              }\n            </div>\n            \n      <div className=\"table-container\">\n        {Grid_Form && \n        <table className=\"table-responsive table table-striped table-bordered mt-4\">\n          <thead>\n            <tr className=\"text -end d-none\">\n              <th colspan=\"9\">\n                <span\n                  style={{ cursor: \"pointer\" }}\n                  className=\"btn btn-outline-secondary btn-sm d-inline-flex justify-content-center align-item-center\"\n                >\n                  <span\n                    style={{ fontSize: \"20px\" }}\n                    class=\"material-symbols-outlined\"\n                  >\n                    autorenew\n                  </span>{\" \"}\n                  <span>Refresh</span>\n                </span>\n              </th>\n            </tr>\n            <tr>\n              <th scope=\"col\">#</th>\n              <th scope=\"col\">UserName</th>\n              <th scope=\"col\">From Email</th>\n              <th scope=\"col\">To Email</th>\n              <th scope=\"col\">Subject</th>\n              <th scope=\"col\">Body</th>\n\n              <th scope=\"col\">CreatedOn</th>\n              <th scope=\"col\">SendDate</th>\n              <th scope=\"col\">Handle</th>\n            </tr>\n          </thead>\n          <tbody>\n            {EmailList &&\n              EmailList.length > 0 &&\n              EmailList.map((ele, index) => (\n                <tr key={index}>\n                  <th scope=\"row\">{index + 1}</th>\n                  <td>{ele.name}</td>\n                  <td>{ele.FromEmail}</td>\n                  <td>{ele.ToEmail}</td>\n                  <td>{ele.Subject}</td>\n                  <td>\n                    <button\n                      type=\"button\"\n                      class=\"btn btn-link\"\n                      data-toggle=\"modal\"\n                      data-target=\"#exampleModal\"\n                      onClick={() => openModal(ele)}\n                    >\n                      View\n                    </button>\n                  </td>\n                  <td>\n                    {ele.createdAt\n                      ? formatDistanceToNow(ele.createdAt, {\n                          addSuffix: true\n                        })\n                      : \"---\"}\n                  </td>\n                  <td>{ele.SentAt ? ele.SentAt : \"---\"}</td>\n                  <td>\n                    <span\n                      onClick={() => sendValueToParent(ele, \"edit\")}\n                      style={{ cursor: \"pointer\" }}\n                      class=\"text-primary material-symbols-outlined\"\n                    >\n                      edit_square\n                    </span>\n                    &nbsp;\n                    <span\n                      onClick={() => sendValueToParent(ele, \"delete\")}\n                      style={{ cursor: \"pointer\" }}\n                      class=\"text-danger material-symbols-outlined\"\n                    >\n                      delete\n                    </span>\n                    &nbsp;\n                    <span\n                      onClick={() => sendValueToParent(ele, \"mail\")}\n                      style={{ cursor: \"pointer\" }}\n                      class=\"text-danger material-symbols-outlined\"\n                    >\n                      mail\n                    </span>\n                  </td>{\" \"}\n                  {/* Placeholder for any action buttons */}\n                  {/* Placeholder for any action buttons */}\n                </tr>\n              ))}\n          </tbody>\n        </table>\n        }\n        {!Grid_Form && <SendMail User={User} onEvent={sendValueToParent} />}\n        </div>\n        {isModalOpen && (\n          <ModalComponent\n            Modal={Modal}\n            isOpen={isModalOpen}\n            onClose={closeModal}\n          />\n        )}\n\n      </>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}